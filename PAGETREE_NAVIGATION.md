# 页面树导航系统

## 概述

导航现在基于ApostropheCMS的页面树结构自动生成，无需手动配置导航项目。

## 工作原理

### 数据来源
- **data.home**: 主页数据
- **data.home._children**: 主页下的直接子页面
- **data.page._ancestors**: 当前页面的祖先页面
- **data.page._children**: 当前页面的子页面

### 自动生成规则
1. 遍历 `data.home._children` 中的所有页面
2. 只显示 `visibility === 'public'` 的页面
3. 自动生成页面标题和链接
4. 当前页面会添加 `active` 类

## 使用方法

### 1. 创建页面
1. 登录管理界面 (`/admin`)
2. 进入 **页面** 管理
3. 创建新页面作为主页的子页面
4. 设置页面标题和内容
5. 确保页面可见性设置为 **公开**

### 2. 页面层级结构
```
主页 (Home)
├── 关于我们 (About)
├── 服务 (Services)
│   ├── 网页设计
│   └── 网页开发
├── 产品 (Products)
└── 联系我们 (Contact)
```

### 3. 导航显示
- 只有主页的直接子页面会显示在主导航中
- 子页面的子页面不会显示在主导航中
- 可以通过面包屑导航查看完整路径

## 调试信息

导航区域会显示调试信息，包括：
- 找到的页面数量
- 每个页面的标题和可见性状态

## 样式自定义

导航样式在 `modules/asset/ui/src/scss/_navigation.scss` 中定义：

```scss
.nav-link {
  // 普通链接样式
}

.nav-link.active {
  // 当前页面链接样式
}

.nav-item {
  // 导航项目样式
}
```

## 优势

1. **自动化**: 无需手动配置导航项目
2. **一致性**: 导航与页面结构保持一致
3. **维护性**: 添加/删除页面时导航自动更新
4. **SEO友好**: 基于实际页面结构生成

## 注意事项

1. 只有设置为"公开"的页面才会显示在导航中
2. 页面标题会直接用作导航文本
3. 页面URL会自动生成
4. 当前页面会有视觉高亮显示

## 扩展功能

如果需要更复杂的导航结构，可以：
1. 使用全局配置的导航系统
2. 创建自定义导航模块
3. 结合页面树和手动配置
