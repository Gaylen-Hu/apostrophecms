# 导航系统设置指南

## 问题解决

### 导航数据不显示的问题

如果导航菜单没有显示数据，请按照以下步骤检查和配置：

## 1. 检查全局配置

1. 登录ApostropheCMS管理界面
2. 进入 **全局设置** → **导航** 标签
3. 确保已添加导航项目

## 2. 配置导航项目

### 基本导航项目
- **链接文本**: 显示在导航中的文本
- **链接类型**: 选择页面、文件或自定义URL
- **页面链接**: 如果选择页面类型，选择要链接的页面
- **自定义URL**: 如果选择自定义类型，输入完整URL
- **新窗口打开**: 选择是否在新标签页打开

### 子菜单配置
- 勾选 **有子菜单** 选项
- 在 **子菜单项目** 中添加子菜单项
- 每个子菜单项也需要配置链接类型和链接

### 徽章功能
- 在 **徽章文本** 字段中输入要显示的徽章文本
- 徽章会显示在导航链接旁边

## 3. 测试导航

访问 `/navigation-test` 页面查看导航数据是否正确配置。

## 4. 常见问题

### 问题1: 导航项目不显示
**解决方案**: 
- 检查是否在全局设置中添加了导航项目
- 确保链接文本不为空
- 检查链接类型和对应的链接是否正确配置

### 问题2: 子菜单不显示
**解决方案**:
- 确保勾选了"有子菜单"选项
- 在子菜单项目中添加了子菜单项
- 子菜单项也需要正确配置链接

### 问题3: 链接不工作
**解决方案**:
- 检查链接类型是否正确
- 对于页面链接，确保选择了有效的页面
- 对于自定义URL，确保URL格式正确

## 5. 数据结构说明

导航数据存储在 `data.global.headerNav` 中，每个导航项目包含：

```javascript
{
  linkText: "导航文本",
  linkType: "page|file|custom",
  _linkPage: [{ _url: "/page-url", title: "页面标题" }], // 页面类型
  _linkFile: [{ _url: "/file-url" }], // 文件类型
  linkUrl: "https://example.com", // 自定义类型
  linkTarget: ["_blank"], // 新窗口打开
  hasSubmenu: true, // 是否有子菜单
  submenuItems: [...], // 子菜单项目
  badge: "NEW", // 徽章文本
  ariaLabel: "无障碍标签"
}
```

## 6. 调试工具

使用 `/navigation-test` 页面可以：
- 查看完整的全局数据
- 检查导航数据结构
- 验证链接配置
- 查看页面树数据

## 7. 下一步

配置完成后，导航将自动显示在网站的所有页面上。如果需要自定义样式，可以修改 `modules/asset/ui/src/scss/_navigation.scss` 文件。
